# JQuery版本4

在3的基础上实现了删除功能

## 代码实现

首先, 我们需要在渲染列表的时候添加删除按钮进去, 同时将每条内容的id取出(这里用的id属性存储, 也可以用data-*存储id)。

然后, 用each遍历所有删除按钮, 绑定点击事件, 当点击按钮时, 传入id, 发送delete请求, 删除数据。整个流程看起来很理所当然, 但是, 这里仍然有需要注意的地方:

 $('button.delete').each(function (){...})

 就是这段代码的位置。因为ajax请求是一个异步操作, 所以必须要保证在按钮成功渲染出来之后再绑定事件, 所以应该放到ajax成功时的回调函数里面。

## 服务器端接口说明

接口地址：http://115.159.184.76:3001/api/comments/{id}

接口功能：

- get请求会返回所有的comment（留言）
- post请求可以新增加一条comment（数据应包含title,content,time）
- get请求可以携带参数，过滤（或者叫增加搜索条件）得到我们想要的数据
- delete请求如上url可以删除指定id的comment